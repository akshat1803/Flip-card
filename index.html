<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="flip.css">
</head>

<body>
    <div class="screen" id="wrapper1">
        <button>Start</button>
    </div>
    <div class="screen" id="wrapper">
        <div id="boxes">
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="mark.jpg" alt="Avatar">
                    </div>
                    <div class="flip-card-back"></div>
                </div>
            </div>
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="mark.jpg" alt="Avatar">
                    </div>
                    <div class="flip-card-back"></div>
                </div>
            </div>

            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="mark.jpg" alt="Avatar">
                    </div>
                    <div class="flip-card-back"></div>
                </div>
            </div>
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="mark.jpg" alt="Avatar">
                    </div>
                    <div class="flip-card-back"></div>
                </div>
            </div>

            <div class="flip-card">

                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="mark.jpg" alt="Avatar">
                    </div>
                    <div class="flip-card-back"></div>
                </div>
            </div>

            <div class="flip-card">

                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="mark.jpg" alt="Avatar">
                    </div>
                    <div class="flip-card-back"></div>
                </div>
            </div>
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="mark.jpg" alt="Avatar">
                    </div>
                    <div class="flip-card-back"></div>
                </div>
            </div>
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="mark.jpg" alt="Avatar">
                    </div>
                    <div class="flip-card-back"></div>
                </div>
            </div>

            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="mark.jpg" alt="Avatar">
                    </div>
                </div>

                <div class="flip-card-back"></div>
            </div>
            <div class="flip-card">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="mark.jpg" alt="Avatar">
                    </div>
                    <div class="flip-card-back"></div>
                </div>
            </div>

            <div class="flip-card">

                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="mark.jpg" alt="Avatar">
                    </div>
                    <div class="flip-card-back"></div>
                </div>
            </div>

            <div class="flip-card">

                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        <img src="mark.jpg" alt="Avatar">
                    </div>
                    <div class="flip-card-back"></div>
                </div>
            </div>

        </div>
    </div>


    <script>
        let imagSrc = ["Op.jpg", "wallpaper.jpg", "bp.jpg", "bp 2.jpg", "batman-logo-4k.jpg", "destiny.jpg"]
        let btn = document.querySelector("button")
        let displayphoto = document.querySelector("#wrapper")
        let start = document.querySelector("#wrapper1")
        let flip = document.querySelectorAll(".flip-card")
        let flipBack = document.querySelectorAll(".flip-card-back")
        let flipFrontImages = document.querySelectorAll(".flip-card-front img")

        let counter = 0

        let blank = []
        let imageMatching = []
        let newImages = [...imagSrc, ...imagSrc]
        // console.log(newImages)


        btn.addEventListener("click", () => {
            displayphoto.style.display = "block"
            start.style.display = "none"
        })
        for (let i = 0; i < newImages.length; i++) {
            let image = document.createElement("img")
            image.src = newImages[getRandomValue()]
            flipBack[i].append(image)
        }
        function getRandomValue() {
            let randomValue = Math.floor(Math.random() * newImages.length)
            if (blank.includes(randomValue)) return getRandomValue()
            else {
                blank.push(randomValue)
                return randomValue
            }
        }
        flipFrontImages.forEach((image) => {
            image.addEventListener("click", () => {
                setTimeout(() => {
                    counter++;
                    if (counter > 1) {
                        imageMatching.push(image.parentElement.nextElementSibling.children[0])

                        // CHECK FOR MATCHING
                        console.log(imageMatching[0].src, imageMatching[1].src)
                        if (imageMatching[0].src === imageMatching[1].src) {
                            console.log("if")
                            counter = 0
                            imageMatching.length = 0
                        }
                        else {
                            
                            imageMatching.forEach((image, index) => {
                                console.log(image.parentElement.parentElement)
                                image.parentElement.parentElement.classList.remove("backSide")
                            })
                            counter = 0;
                            imageMatching.length = 0
                        }
                    }

                    else {
                        imageMatching.push(image.parentElement.nextElementSibling.children[0])
                    }
                    image.parentElement.parentElement.classList.add("backSide")
                }, 300)
            })

        })


        function matching() {
            if (1 < counter) {

            }
        }






    </script>
</body>

</html>